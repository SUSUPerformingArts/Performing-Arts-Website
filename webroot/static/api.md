# Performing Arts API 
To help societies build their websites with PA data, there are a number of endpoints available.
A number of endpoints require your society ID, this can be found in the table at the bottom.

### Auth
Location: perform.susu.org/api/auth/<Society ID>

Type: POST request, JSON response

Argumnets:
- username (plaintext, iSolutions username (e.g. abcg17))
- password (plaintext, iSolutions password)

Returns:
- success (boolean - all other fields only present if true)
- firstName (string)
- lastName (string)
- chosenName (string, empty string if not set)
- iSolutionsUsername (string)
- committee (boolean, true if on *your* society's committee)
- bio (string, markdown formatted bio written by user in PA site)
- id (int, The unique identifier used and generated by the PA site)

### All Members
Location: perform.susu.org/api/members

Type: GET request, JSON response

Arguments:
- OPTIONAL: limit (int, the max number of members to return)
- OPTIONAL: name (String, search for members including this in their name(s))

Returns:
- Array of member objects, each with the following properties:
  - firstName (string)
  - lastName (string)
  - preferredName (string, empty string if not set)
  - iSolutionsUsername (string)
  - bio (string, markdown formatted bio written by user in PA site)
  - id (int, The unique identifier used and generated by the PA site)
  - uri (String URI, URL pointing to the endpoint to get just this member)
  - profileUrl (String URL, URL pointing to the page on the PA site with the member's profile)

### Specific Member
Location: perform.susu.org/api/member/<member ID>

Type: GET request, JSON response

No arguments

Returns:
- Single member object with the following properties:
  - firstName (string)
  - lastName (string)
  - preferredName (string, empty string if not set)
  - iSolutionsUsername (string)
  - bio (string, markdown formatted bio written by user in PA site)
  - id (int, The unique identifier used and generated by the PA site)
  - uri (String URI, URL pointing to the endpoint to get just this member)
  - profileUrl (String URL, URL pointing to the page on the PA site with the member's profile)

### Get shows
Location: perform.susu.org/api/shows
Type: GET request, JSON response
Arguments:
- OPTIONAL: limit (int, the max number of shows to return)
- OPTIONAL: name (String, search for shows including this in their title(s))
- OPTIONAL: society (String, search for shows by soceities including this in their name(s))
- OPTIONAL: stagesoc (bool 1/0, if true then only shows with stage soc are included)
- OPTIONAL: future (bool 1/0, if true then only shows that haven't had their first show yet)

Returns:
- id (int, unique ID)
- name (String, title of the show)
- description (String, markdown formatted description of the show)
- slug (String, url compatible version of the show name)
- uri (String, static URL to the show on the PA site)
- showUrl (String, URl to the show using the slug - can change if the name changes)
- stagesoc (0 [false] or 1 [true], indicates if stageSoc are involved with this show)
- year (int, the year (yyyy) the show took place in)
- academicYear (int, the academic year (yyyy) the show took place in. E.g. a show on 1/2/2016 would have academicYear 2015)
- image (String, URL to the image (jpg or png) for the show, normally a banner)
- dates (Array of Strings, each date (start time) formatted yyyy-mm-dd hh:mm:ss)
- firstShowDate (String, first show date formatted yyyy-mm-dd hh:mm:ss)
- lastShowDate (String, last show date formatted yyyy-mm-dd hh:mm:ss)
- ticketSource (String, URL to online ticket sales if available)
- ticketDetails (String, details of ticket prices etc. with line breaks between each ticket)
- venueId (int, internal ID of the venue)
- venueName (String, the name of the venue)
- societyId (int, ID of the performing society, see table at bottom)
- societyname (String)
- DEPRECIATED: societyPage (String, id of the society on susu.org - maybe null or incorrect, not maintained)
- societySlug (String, url compatible version of the soc name used as ID in some places)
- societyType (int, 1=theatrical, 2=music, 3=dance, 4=tech, 5+ ignore)

### Get show
Location: perform.susu.org/api/show/<show ID>

Type: GET request, JSON response

No Arguments

Returns:
- Single show object with the following properties:
  - id (int, unique ID)
  - name (String, title of the show)
  - description (String, markdown formatted description of the show)
  - slug (String, url compatible version of the show name)
  - uri (String, static URL to the show on the PA site)
  - showUrl (String, URl to the show using the slug - can change if the name changes)
  - stagesoc (0 [false] or 1 [true], indicates if stageSoc are involved with this show)
  - year (int, the year (yyyy) the show took place in)
  - academicYear (int, the academic year (yyyy) the show took place in. E.g. a show on 1/2/2016 would have academicYear 2015)
  - image (String, URL to the image (jpg or png) for the show, normally a banner)
  - dates (Array of Strings, each date (start time) formatted yyyy-mm-dd hh:mm:ss)
  - firstShowDate (String, first show date formatted yyyy-mm-dd hh:mm:ss)
  - lastShowDate (String, last show date formatted yyyy-mm-dd hh:mm:ss)
  - ticketSource (String, URL to online ticket sales if available)
  - ticketDetails (String, details of ticket prices etc. with line breaks between each ticket)
  - venue (Object, the venue of the show)
    - id (int, internal ID of the venue)
    - name (String, human readable name of the venue)
  - society (Object, society performing in the show)
    - id (int, internal ID of the soc)
    - name (String, name of the soc)
    - slug (String, url compatible name of the soc, used as ID in some places)
    - societyUrl (String, url pointing at the society's page on the PA site)
  - members (Array of Members, members taking part in the show)
    - id (int, internal ID of the member)
    - firstName (String)
    - lastname (String)
    - chosenName (String, blank if not set)
    - fullName (String, uses chosen name if set)
    - uri (String, URL pointing to API endpoint to retrieve all data for member)
    - profileUrl (String, URL pointing at the page on the PA site with the user's profile)
    - roles (Array of Roles, the roles the member had in the show)
      - role (String, title of the role taken E.g. Cast)
      - notes (String, extra information about the role e.g. the part or instrument)

### Get Societies
Not yet implemented

### Get calendar events
This returns the rehearsals and shows calendars for any society in JSON format ready for fullCalendar.

Location: perform.susu.org/api/cal/json/<society ID>

Type: GET request, JSON response

Arguments:
- OPTIONAL: colour (String, the colour to format the events with. If not present then defaults to black. Colours should be hex colours without the hex e.g. white=ffffff)

Returns:
- Array of Event Objects. This array is suitible for directly plugging into the fullCalendar library for js. Each event has:
  - id (String, TeamUp calendar's id for the envent, URL that points to its info on teamup)
  - title (String, **should** (but doesn't always) have the format "socName: eventTitle")
  - start (String, start time of the event in js Date compatible format)
  - end (String, end time of the event in js Date compatible format)
  - allDay (Bool true/false)
  - location (String, location of the event)
  - color (String, colour to format the event in fullCalendar)


### Subscribe to calendar
This returns the rehearsals and shows calendars for any society in ical format ready for google calendar etc.

API Location: perform.susu.org/api/cal/ics/<society slug>

Users Location: perform.susu.org/cal/<society slug>

Type: GET request, CALENDAR response

No arguments

Returns:
- Events in iCal format, which isn't gone into here. Too long and dull. If you care you should be using JSON above

### DEPRECIATED: Subscribe to calendar (legacy)
This returns the rehearsals and shows calendars for any society in ical format ready for google calendar etc.

API Location: perform.susu.org/schedule/feed.php

Type: GET request, CALENDAR response

Arguments:
- soc (int, the id of the society's events to return)

Returns:
- Events in iCal format, which isn't gone into here. Too long and dull. If you care you should be using JSON above

## Society IDs
All valid society IDs are listed below, in alphebetical order


| Society                            | ID |
|------------------------------------|----|
| Afrodynamix                        | 36 |
| Ballet Society                     | 1  |
| Ballroom and Latin                 | 2  |
| Belly Dance                        | 3  |
| Bhangra Dance                      | 4  |
| Brass Band                         | 5  |
| Breakdance                         | 6  |
| Capoeria                           | 46 |
| Chamber Choir                      | 7  |
| Chamber Opera Society              | 40 |
| Circus Society                     | 8  |
| Comedy Soc                         | 28 |
| Concert Band                       | 9  |
| Contemporary Dance                 | 10 |
| Dabke                              | 47 |
| Folk Soc                           | 12 |
| Guitar Society                     | 45 |
| Irish Dance                        | 37 |
| Jazz Dance                         | 13 |
| Jazzmanix                          | 15 |
| Kandyan and Bharata Natyam         | 38 |
| LiveSoc                            | 33 |
| LOpSoc                             | 16 |
| Magic Soc                          | 17 |
| Medics Revue                       | 18 |
| Melodics                           | 35 |
| Piano Soc                          | 34 |
| Salsa Soc                          | 20 |
| Showstoppers                       | 21 |
| Sinfonietta                        | 22 |
| Southampton University Jazz Band   | 48 |
| StageSoc                           | 25 |
| Street Dance                       | 26 |
| SU Phil                            | 19 |
| SU Strings                         | 24 |
| SUJO                               | 14 |
| SUSingers                          | 27 |
| SUSO                               | 31 |
| SWO                                | 30 |
| Tap Dance                          | 32 |
| Theatre Group                      | 29 |
